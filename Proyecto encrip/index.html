<!DOCTYPE html>
<html>
<head>
    <title>Crypto-QR</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Mantener mismo estilo que el proyecto original */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom right, #212a34, #000000);
            color: #e0e0e0;
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            background: rgba(42, 42, 42, 0.9);
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            border: 1px solid #444;
            margin-bottom: 30px;
        }
        h2 {
            color: #4CAF50;
            border-bottom: 1px solid #4CAF50;
            padding-bottom: 10px;
        }
        .tech-details {
            background: #1a1a1a;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
        }
        .image-upload {
            border: 2px dashed #4CAF50;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
        }
        .version-table {
            width: 100%;
            border-collapse: collapse;
        }
        .version-table td, .version-table th {
            border: 1px solid #4CAF50;
            padding: 8px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-file-code"></i> Documentación Técnica Crypto-QR</h1>
        
        <div class="button-group">
            <a href="#probar" style="text-decoration: none;">
                <button><i class="fas fa-flask"></i> Probar Demo</button>
            </a>
            <a href="https://github.com/RoberthGarcia1404/Crypto-QR" target="_blank">
                <button class="download-btn"><i class="fab fa-github"></i> Ver en GitHub</button>
            </a>
        </div>
    </div>

    <div class="container" id="probar">
        <h2><i class="fas fa-flask"></i> Área de Pruebas</h2>
        <!-- Aquí iría el código original del proyecto -->
        <iframe src="vr 0.2.html" style="width: 100%; height: 940px; border: none;"></iframe>
    </div>

      <!-- Sección de Descripción General Actualizada -->
      <div class="container">
        <h2><i class="fas fa-lock"></i> Descripción General del Proyecto</h2>
        <div class="tech-details">
            <p>Sistema híbrido de seguridad que combina:</p>
            <ul>
                <li>Encriptación multi-capa (compresión + cifrado + ofuscación)</li>
                <li>Esteganografía en imágenes de ruido</li>
                <li>Generación de códigos QR cifrados</li>
            </ul>
        </div>

        <div class="mermaid-diagram">
            <img src="flow-diagram.png" alt="Diagrama de flujo criptográfico" style="max-width: 100%;">
        </div>

        <h3>Especificaciones Técnicas Detalladas</h3>
        <table class="security-table">
            <tr>
                <th>Componente</th>
                <th>Detalle Técnico</th>
            </tr>
            <tr>
                <td>Algoritmo Base</td>
                <td>LZ77 + XOR modificado con derivación PBKDF1-like</td>
            </tr>
            <tr>
                <td>Tamaño Salt</td>
                <td>16 bytes (128 bits) - crypto.getRandomValues</td>
            </tr>
            <tr>
                <td>Espacio de Claves</td>
                <td>UTF-8 - Resistente a ataques de diccionario</td>
            </tr>
            <tr>
                <td>Capacidad QR</td>
                <td>Hasta 1,200 bytes (Versión 40-Q Micro QR)</td>
            </tr>
            <tr>
                <td>Rendimiento</td>
                <td>~5ms/KB en Chrome 120+</td>
            </tr>
        </table>
    </div>

    <!-- Nueva Sección de Casos de Uso -->
    <div class="container">
        <h2><i class="fas fa-scenario"></i> Casos de Uso Principales</h2>
        <div class="use-cases">
            <div class="tech-details">
                <h4>Comunicaciones Offline</h4>
                <ul>
                    <li>Transferencia air-gapped vía QR/Imágenes</li>
                    <li>Almacenamiento cifrado en medios físicos</li>
                </ul>
            </div>
            
            <div class="tech-details">
                <h4>Protección Forense</h4>
                <ul>
                    <li>Ofuscación de metadatos en imágenes</li>
                    <li>Resistencia a análisis de entropía</li>
                </ul>
            </div>
            
            <div class="tech-details">
                <h4>Sistemas Embebidos</h4>
                <ul>
                    <li>Microcontroladores (versión texto 5KB)</li>
                    <li>Bajo consumo de recursos</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Sección de Análisis de Seguridad -->
    <div class="container">
        <h2><i class="fas fa-shield-alt"></i> Análisis de Seguridad</h2>
        <div class="tech-details">
            <h4>Ventajas Clave</h4>
            <ul>
                <li>Auto-contenido: 0 dependencias externas post-carga</li>
                <li>Resistencia QRF: Elimina patrones criptográficos típicos</li>
                <li>Portabilidad: Compatible con navegadores antiguos</li>
            </ul>

            <h4>Configuración Avanzada</h4>
            <pre>
const config = {
    saltLength: 24,         // Tamaño personalizado de salt
    obfuscationLevel: 3,    // Nivel de ofuscación (1-5)
    noiseType: 'perlin',    // Tipo de ruido generado
    qrCorrection: 'H'       // Nivel de corrección QR
};</pre>
        </div>
    </div>

    <!-- Sección de Módulos Actualizada -->
    <div class="container">
        <h2><i class="fas fa-cubes"></i> Arquitectura Modular</h2>
        <div class="tech-details">
            <pre>
# Estructura del Proyecto
crypto-core.js       # 5KB  - Funciones básicas de cifrado
crypto-qr.js        # +18KB - Generación QR
crypto-stego.js     # +8KB  - Esteganografía avanzada</pre>
        </div>
        
        <div class="image-upload">
            <h4>Diagrama de Módulos</h4>
            <img src="module-structure.png" alt="Arquitectura modular" style="max-width: 60%;">
        </div>
    </div>


    

    <div class="container">
        <h2><i class="fas fa-project-diagram"></i> Arquitectura del Sistema</h2>
        <div class="tech-details">
            <strong>Stack Tecnológico:</strong><br>
            - LZString (compresión LZ77)<br>
            - Web Crypto API (generación de salts)<br>
            - Canvas API (manipulación de pixels)<br>
            - QRCode.js (generación de códigos QR)
        </div>

        <h3>Flujo de Encriptación:</h3>
        <ol>
            <li>Compresión LZ77 del texto original</li>
            <li>Generación de salt criptográfico (16 bytes)</li>
            <li>Derivación de clave mediante PBKDF1 simplificado</li>
            <li>Cifrado XOR con ofuscación de datos</li>
            <li>Codificación Base64 URL-safe</li>
        </ol>

        <div class="image-upload">
            <h4>Diagrama de Flujo de Encriptación</h4>
            <img src="encryption-flow.png" alt="Flujo de encriptación" style="max-width: 80%;">
        </div>
    </div>

    <div class="container">
        <h2><i class="fas fa-microchip"></i> Especificaciones Técnicas</h2>
        
        <h3>Algoritmo de Encriptación</h3>
        <div class="tech-details">
            function compressEncrypt(text, key) {<br>
            &nbsp;&nbsp;// 1. Compresión LZString → Uint8Array<br>
            &nbsp;&nbsp;// 2. Salt de 16 bytes (CSPRNG)<br>
            &nbsp;&nbsp;// 3. keyBytes = TextEncoder().encode(key)<br>
            &nbsp;&nbsp;// 4. XOR dinámico: encrypted[i] = compressed[i] ^ (keyByte + saltByte + i)<br>
            &nbsp;&nbsp;// 5. Obfuscación: intercalado de bytes aleatorios ASCII<br>
            &nbsp;&nbsp;// 6. Checksum: suma de bytes mod 256<br>
            }
        </div>

        <h3>Generación de Imagen de Ruido</h3>
        <ul>
            <li>Metadatos en primeros 4 píxeles (canal azul)</li>
            <li>Datos cifrados incrustados desde el 5to píxel</li>
            <li>Patrón de ruido: RGB aleatorio con opacidad total</li>
        </ul>

        <div class="image-upload">
            <h4>Ejemplo de Imagen de Ruido</h4>
            <img src="imgs/secret-noise (1).png" alt="Ejemplo de imagen con ruido" style="max-width: 300px;">
            <h4>Desencriptor: codigo</h4>
        </div>
    </div>

    <div class="container">
        <h2><i class="fas fa-box-open"></i> Versiones del Proyecto</h2>
        
        <table class="version-table">
            <tr>
                <th>Función</th>
                <th>Full (23kb)</th>
                <th>Lite (10kb)</th>
                <th>Texto (5kb)</th>
            </tr>
            <tr>
                <td>Text encrypt</td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-check"></i></td>
            </tr>
            <tr>
                <td>Generación QR</td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-times"></i></td>
            </tr>
            <tr>
                <td>Imagen de Ruido</td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-times"></i></td>
            </tr>
            <tr>
                <td>Desencriptar Imagen</td>
                <td><i class="fas fa-check"></i></td>
                <td><i class="fas fa-times"></i></td>
                <td><i class="fas fa-times"></i></td>
            </tr>
        </table>

        <h3>Optimizaciones</h3>
        <ul>
            <li>Versión Lite: Removidas librerías QR y Canvas</li>
            <li>Versión Texto: Solo funciones base64ToBytes y XOR</li>
            <li>Treeshaking de funciones no esenciales</li>
        </ul>
    </div>

   
</body>
  
</html>
